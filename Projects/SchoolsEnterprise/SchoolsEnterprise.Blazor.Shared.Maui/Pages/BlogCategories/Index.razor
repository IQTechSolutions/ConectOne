@page "/evers"
@using ConectOne.Blazor.Components
@using Microsoft.AspNetCore.Authorization
@using MudBlazor

@attribute [Authorize]

<style>
    .second-card2 {
        background-color: #1a2148;
        background-image: linear-gradient(135deg, #1a2148 50, #0061B5 100%);
    }
</style>

@if (!_loaded)
{
    <Spinner></Spinner>
}
else
{
    <MobilePageTitle Title="@($"{_everLabelText} Categories")"></MobilePageTitle>

    <MudGrid Class="mb-5 mt-3" Spacing="2">
        @if (_categories.Any())
    {
        @foreach (var category in _categories)
        {
            <MudItem xs="4" sm="4" md="4">
                <MudCard Elevation="5" Class="rounded-15 second-card2" @onclick="@(() => NavigateToCategory(category.CategoryId))">
                    <MudCardContent Class="d-flex flex-column mb-1 mt-1 px-1 py-5">
                        <CategoryMudBadge Category="category"></CategoryMudBadge>
                    </MudCardContent>
                </MudCard>
            </MudItem>
        }
    }
    else
    {
        <MudItem xs="12" sm="6" md="6">
            <MudCard Elevation="1" Outlined="false" Class="d-flex flex-row rounded-lg" Style="height:120px;">
                <MudCardContent Class="d-flex justify-space-around flex-column py-2" Style="height:120px; width: 100%">
                    <MudText Typo="Typo.subtitle1" Style="font-weight: 600; text-align:center; color:black !important;" Class="text-secondary">No feed categories currently defined, please check back later</MudText>
                </MudCardContent>
            </MudCard>
        </MudItem>
    }
    </MudGrid>
}