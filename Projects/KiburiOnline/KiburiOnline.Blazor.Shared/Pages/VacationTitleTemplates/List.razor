@page "/vacation-title-templates"

@using ConectOne.Blazor.Components
@using KiburiOnline.Blazor.Shared.Layouts
@using MudBlazor
@using static Microsoft.AspNetCore.Components.Web.RenderMode

@rendermode InteractiveServer


@layout WebsiteLayout

<HeadContent>
    <!-- Robots -->
    <meta name="robots" content="noindex, nofollow" />
</HeadContent>

<div id="hotel-main-content" class="card card-body bg-light mt-5">
    <DefaultTitle Title="Package Title Templates" Caption="All package title templates" />

    <MudTable Elevation="25" Items="_templates" Loading="!_loaded" LoadingProgressColor="Color.Primary" Hover="true" @ref="_table">
        <HeaderContent>
            <MudTh><strong>Title</strong></MudTh>
            <MudTh Style="float:right;"><MudButton Variant="Variant.Filled" Color="Color.Primary" OnClick="AddTemplate" StartIcon="@Icons.Material.Filled.Add" IconColor="Color.Surface">Create</MudButton></MudTh>
        </HeaderContent>
        <RowTemplate>
            <MudTd DataLabel="Title">
                <MudHighlighter Text="@context.VacationTitle" />
            </MudTd>
            <MudTd DataLabel="Actions" Style="text-align: right">
                <MudMenu Label="Actions" Variant="Variant.Filled" EndIcon="@Icons.Material.Filled.KeyboardArrowDown" IconColor="Color.Secondary" AnchorOrigin="Origin.BottomLeft">
                    <MudMenuItem Icon="@Icons.Material.Filled.Edit" @onclick="@(() => UpdateTemplate(context))">Edit</MudMenuItem>
                    <MudMenuItem Icon="@Icons.Material.Filled.Delete" @onclick="@(() => DeleteTemplate(context.Id))">Delete</MudMenuItem>
                </MudMenu>
            </MudTd>
        </RowTemplate>
    </MudTable>
</div>
