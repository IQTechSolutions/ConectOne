@using MudBlazor

<MudGrid>
    <MudItem xs="12">
        <MudTable Items="Vacation.References">
            <HeaderContent>
                <MudTh>Title</MudTh>
                <MudTh>Name</MudTh>
                <MudTh>Company</MudTh>
                <MudTh>Location</MudTh>
            </HeaderContent>

            <RowTemplate Context="context">
                <MudTd><MudText>@context.Review.JobTitle</MudText></MudTd>
                <MudTd><MudText>@context.Review.Name</MudText></MudTd>
                <MudTd><MudText>@context.Review.CompanyName</MudText></MudTd>
                <MudTd><MudText>@context.Review.Location</MudText></MudTd>
                <MudTd>
                    <MudMenu Label="Actions" Variant="Variant.Filled" DisableElevation="true" EndIcon="@Icons.Material.Filled.KeyboardArrowDown" IconColor="Color.Secondary" AnchorOrigin="Origin.TopLeft">
                        <MudMenuItem OnClick="@(() => UpdateReview(context))" Icon="@Icons.Material.Filled.Edit">Edit</MudMenuItem>
                        <MudMenuItem OnClick="@(() => RemoveReview(context.Id))" Icon="@Icons.Material.Filled.Delete">Delete</MudMenuItem>
                    </MudMenu>
                </MudTd>
            </RowTemplate>
        </MudTable>
    </MudItem>
    <MudItem md="12">
        <MudButton Variant="Variant.Filled" FullWidth="true"
                   Color="Color.Primary"
                   StartIcon="@Icons.Material.Filled.CloudUpload" OnClick="CreateReview">
            New Reference
        </MudButton>
    </MudItem>
    
    @if (Update.HasDelegate)
    {
        <MudItem xs="4" sm="4" md="4" lg="4">
            <MudButton OnClick="OnUpdate" Variant="Variant.Filled" Color="Color.Primary" Class="ml-auto" FullWidth>Next</MudButton>
        </MudItem>
    }
    @if (NextTab.HasDelegate)
    {
        <MudItem xs="4" sm="4" md="4" lg="4">
            <MudButton OnClick="OnNextTab" Variant="Variant.Filled" Color="Color.Primary" Class="ml-auto" FullWidth>Save</MudButton>
        </MudItem>
    }
    <MudItem xs="4" sm="4" md="4" lg="4">
        <MudButton OnClick="OnPreviousTab" Variant="Variant.Filled" Color="Color.Info" Class="ml-auto" FullWidth>Back</MudButton>
    </MudItem>
    <MudItem xs="4" sm="4" md="4" lg="4">
        <MudButton OnClick="OnCancel" Variant="Variant.Filled" Color="Color.Secondary" Class="ml-auto" FullWidth>Cancel</MudButton>
    </MudItem>
</MudGrid>
