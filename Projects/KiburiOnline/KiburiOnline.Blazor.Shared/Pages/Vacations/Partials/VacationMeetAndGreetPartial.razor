@using AccomodationModule.Domain.DataTransferObjects
@using MudBlazor
<MudCard Style="width:100%; padding-left:20px;">
    <MudCardContent>
        <MudGrid>
            <MudItem xs="6">
                <MudTimePicker Label="Meet & Greet Time" @bind-Date="@Vacation.MeetAndGreetTime" ShowToolbar="false" Variant="Variant.Outlined"/>
            </MudItem>
            <MudItem xs="6">
                <MudSelect ToStringFunc="@_meetAndGreetTemplateConverter" T="MeetAndGreetTemplateDto" Label="Meet & Greet Template" @bind-Value="Vacation.MeetAndGreetTemplate" AnchorOrigin="Origin.BottomLeft" Variant="Variant.Outlined">
                    @foreach (var state in _availableMeetAndGreetTemplates)
                    {
                        <MudSelectItem T="MeetAndGreetTemplateDto" Value="@state">@state.Name</MudSelectItem>
                    }
                </MudSelect>
            </MudItem>
            <MudItem xs="12">
                <MudTextField Label="Time Description" ReadOnly="true" Class="mt-3" Value="Vacation.MeetAndGreetTemplate?.TimeDescription" Margin="Margin.Dense" Variant="Variant.Outlined"/>
            </MudItem>
            <MudItem xs="12">
                <MudTextField Label="Description" ReadOnly="true" Class="mt-3" Value="Vacation.MeetAndGreetTemplate?.Description" Margin="Margin.Dense" Variant="Variant.Outlined"/>
            </MudItem>
            <MudItem xs="12">
                <MudTextField Label="Contact Person" ReadOnly="true" Class="mt-3" Value="Vacation.MeetAndGreetTemplate?.Contact?.DisplayName" Margin="Margin.Dense" Variant="Variant.Outlined"/>
            </MudItem>
            <MudItem xs="12">
                <MudTextField Label="Location" ReadOnly="true" Class="mt-3" Value="Vacation.MeetAndGreetTemplate?.Location" Margin="Margin.Dense" Variant="Variant.Outlined"/>
            </MudItem>
            
            @if (Update.HasDelegate)
            {
                <MudItem xs="4" sm="4" md="4" lg="4">
                    <MudButton OnClick="OnUpdate" Variant="Variant.Filled" Color="Color.Primary" Class="ml-auto" FullWidth>Next</MudButton>
                </MudItem>
            }
            @if (NextTab.HasDelegate)
            {
                <MudItem xs="4" sm="4" md="4" lg="4">
                    <MudButton OnClick="OnNextTab" Variant="Variant.Filled" Color="Color.Primary" Class="ml-auto" FullWidth>Next</MudButton>
                </MudItem>
            }
            <MudItem xs="4" sm="4" md="4" lg="4">
                <MudButton OnClick="OnPreviousTab" Variant="Variant.Filled" Color="Color.Info" Class="ml-auto" FullWidth>Back</MudButton>
            </MudItem>
            <MudItem xs="4" sm="4" md="4" lg="4">
                <MudButton OnClick="OnCancel" Variant="Variant.Filled" Color="Color.Secondary" Class="ml-auto" FullWidth>Cancel</MudButton>
            </MudItem>
            
        </MudGrid>
    </MudCardContent>
</MudCard>