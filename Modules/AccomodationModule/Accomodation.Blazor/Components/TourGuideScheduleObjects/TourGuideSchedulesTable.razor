@using ConectOne.Domain.Extensions
@using MudBlazor

<MudTable Elevation="25" ServerData="GetVacationsAsync" Dense="@_dense" Bordered="@_bordered" Striped="@_striped" Hover="true" @ref="_table">
		
    <ToolBarContent>
        <div class="form-group" style="width:100%; padding-right:15px;">
            <input asp-for="Params.SearchText" class="form-control" placeholder="Type to Search"/>
        </div>
        <div style="padding-right:15px;">
            <MudButton Variant="Variant.Filled" OnClick="Search" StartIcon="@Icons.Material.Filled.Search" Color="Color.Tertiary" IconColor="Color.Surface">Search</MudButton>
        </div>
        <MudSpacer />
        <div style="padding-right:15px;">
            <MudButton Variant="Variant.Filled" OnClick="ClearFiltersAsync" StartIcon="@Icons.Material.Filled.Refresh" Color="Color.Secondary" IconColor="Color.Surface">Reload</MudButton>
        </div>
    </ToolBarContent>

    <HeaderContent>
        <MudTh><strong>Name</strong></MudTh>
        <MudTh><strong>Short Description</strong></MudTh>
        <MudTh><strong>Schedule Url</strong></MudTh>
    </HeaderContent>

    <RowTemplate>
        <MudTd>@context.VacationTitle.VacationTitle</MudTd>
        <MudTd><strong>@context.ShortDescription.Content.HtmlToPlainText().TruncateLongString(150)</strong></MudTd>
        <MudTd><strong><MudLink Href="@($"{Configuration["ApplicationConfiguration:WebAddress"]}/packages/{context.VacationId}/itinirary")">@($"{Configuration["ApplicationConfiguration:WebAddress"]}/vacations/{context.VacationId}/itinirary")</MudLink></strong></MudTd>
    </RowTemplate>

    <FooterContent>
        <MudTd colspan="6">
            <div class="d-flex">
                <MudSwitch T="bool" @bind-Checked="@_dense" Color="Color.Secondary" Style="margin-left: 5px;">Dense</MudSwitch>
                <MudSwitch T="bool" @bind-Checked="@_striped" Color="Color.Tertiary" Style="margin-left: 5px;">Striped</MudSwitch>
                <MudSwitch T="bool" @bind-Value="@_striped" Color="Color.Tertiary" Style="margin-left: 5px;">Striped</MudSwitch>
            </div>
        </MudTd>		
    </FooterContent>

    <PagerContent>
        <MudTablePager/>
    </PagerContent>

</MudTable>

                