@using BusinessModule.Domain.Entities
@using FilingModule.Blazor.Components
@using FilingModule.Blazor.Modals
@using FilingModule.Domain.Enums
@using MudBlazor

<MudDialog>
    <TitleContent>
        @{
            <MudText Typo="Typo.h6">
                <MudIcon Icon="@Icons.Material.Filled.DesignServices" Class="mr-3 mb-n1" />
                Please complete or edit the business listing service information
            </MudText>
        }
    </TitleContent>
    <DialogContent>
        @if (ListingService is not null)
        {
            <MudGrid>
            <MudItem xs="12" sm="12" md="3" lg="3">
                    <MudSingleImageCropperUpload OnFileAccepted="CoverImageChanged" Caption="@($"{ListingService.Name} Cover Image")" Src="@_imageSource" ImageType="UploadType.Cover" Entity="typeof(ListingService)" ParentId="@ListingService.Id" />
            </MudItem>
            <MudItem xs="12" sm="12" md="9" lg="9">
            <MudGrid>
                <MudItem md=12>
                    <MudItem md="12">
                        <MudTextField Label="Name" Class="mt-3" @bind-Value="ListingService.Name" For="@(() => ListingService.Name)" Margin="Margin.Dense" Variant="Variant.Outlined"/>
                    </MudItem>
                    <MudItem md="12">
                        <MudTextField Label="Description" Class="mt-3" @bind-Value="ListingService.Description" For="@(() => ListingService.Description)" Margin="Margin.Dense" Variant="Variant.Outlined" />
                    </MudItem>
                    <MudItem md="12">
                        <MudTextField Label="Price" Class="mt-3" @bind-Value="ListingService.Price" For="@(() => ListingService.Price)" Margin="Margin.Dense" Variant="Variant.Outlined"/>
                    </MudItem>
                </MudItem>
            </MudGrid>
            </MudItem>
            </MudGrid>
        }
    </DialogContent>
    <DialogActions>
        <MudButton Variant="Variant.Filled" OnClick="Cancel">Cancel</MudButton>
        <MudButton Variant="Variant.Filled" OnClick="SubmitAsync" Color="Color.Success">Save</MudButton>
    </DialogActions>
</MudDialog>