
@using BusinessModule.Domain.Entities
@using FilingModule.Blazor.Modals
@using FilingModule.Domain.Enums
@using MudBlazor

<MudDialog>
    <TitleContent>
        @{
            <MudText Typo="Typo.h6">
                <MudIcon Icon="@Icons.Material.Filled.DesignServices" Class="mr-3 mb-n1" />
                Please complete or edit the business listing product information
            </MudText>
        }
    </TitleContent>
    <DialogContent>
        
        @if (ListingProduct is not null)
        {
            <MudGrid>
                <MudItem xs="12" sm="12" md="3" lg="3">
                    <MudSingleImageCropperUpload OnFileAccepted="CoverImageChanged" Caption="@($"{ListingProduct.Name} Cover Image")" Src="@_imageSource" ImageType="UploadType.Cover" Entity="typeof(ListingProduct)" ParentId="@ListingProduct.Id" />
                </MudItem>
                <MudItem xs="12" sm="12" md="9" lg="9">
                    <MudGrid>
                        <MudItem md=12>
                            <MudItem md="12">
                                <MudTextField Label="Name" Class="mt-3" @bind-Value="ListingProduct.Name" For="@(() => ListingProduct.Name)" Margin="Margin.Dense" Variant="Variant.Outlined" />
                            </MudItem>
                            <MudItem md="12">
                                <MudTextField Label="Description" Class="mt-3" @bind-Value="ListingProduct.Description" For="@(() => ListingProduct.Description)" Margin="Margin.Dense" Variant="Variant.Outlined" />
                            </MudItem>
                            <MudItem md="12">
                                <MudTextField Label="Price" Class="mt-3" @bind-Value="ListingProduct.Price" For="@(() => ListingProduct.Price)" Margin="Margin.Dense" Variant="Variant.Outlined" />
                            </MudItem>
                        </MudItem>
                    </MudGrid>
                </MudItem>
            </MudGrid>
        }
    </DialogContent>
    <DialogActions>
        <MudButton Variant="Variant.Filled" OnClick="Cancel">Cancel</MudButton>
        <MudButton Variant="Variant.Filled" OnClick="SubmitAsync" Color="Color.Success">Save</MudButton>
    </DialogActions>
</MudDialog>