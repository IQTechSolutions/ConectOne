@page "/attendancegroups/update/{AttendanceGroupId}"

@using ConectOne.Blazor.Components
@using Microsoft.AspNetCore.Authorization
@using Microsoft.AspNetCore.Components.Forms
@using MudBlazor
@using SchoolsModule.Domain.Enums

@attribute [Authorize]

<EditForm Model="_group" OnValidSubmit="UpdateAsync">
    <MudGrid>
        <MudItem md="6">
            <DefaultTitle Title="Update Attendance Group" Caption="Complete or change to update attendance group" />
        </MudItem>
        <MudItem md="6" Style="float:right">
            <MudBreadcrumbs Items="_items" Style="float:right"></MudBreadcrumbs>
        </MudItem>
        <MudItem md="12">
            <DataAnnotationsValidator />
            <MudGrid>
                <MudItem md="6">
                    <MudTextField Label="Group Name" Class="mt-3" @bind-Value="_group.Name" For="@(() => _group.Name)" Margin="Margin.Dense" Variant="Variant.Outlined" />
                </MudItem>
                <MudItem md="6">
                    <MudDatePicker Label="Date" Class="mt-3" Date="_group.Date" Margin="Margin.Dense" />
                </MudItem>
                <MudItem md="6">
                    <MudSelect T="AttendanceType" Label="Type" Value="_group.Type" ValueChanged="@(t => _group.Type = t)" For="@(() => _group.Type)" Variant="Variant.Outlined" Margin="Margin.Dense">
                        @foreach (var t in Enum.GetValues(typeof(AttendanceType)).Cast<AttendanceType>())
                        {
                            <MudSelectItem Value="@t">@t.ToString()</MudSelectItem>
                        }
                    </MudSelect>
                </MudItem>
            </MudGrid>
        </MudItem>
        <MudItem xs="6" sm="6" md="6" lg="6">
            <MudButton ButtonType="ButtonType.Submit" Variant="Variant.Filled" Color="Color.Primary" Class="ml-auto" FullWidth>Save</MudButton>
        </MudItem>
        <MudItem xs="6" sm="6" md="6" lg="6">
            <MudButton OnClick="Cancel" Variant="Variant.Filled" Color="Color.Secondary" Class="ml-auto" FullWidth>Cancel</MudButton>
        </MudItem>
    </MudGrid>
</EditForm>
